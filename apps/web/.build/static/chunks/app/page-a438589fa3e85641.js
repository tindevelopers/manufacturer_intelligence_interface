(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4920:function(e,r,t){Promise.resolve().then(t.bind(t,1041))},1041:function(e,r,t){"use strict";t.d(r,{DashboardClient:function(){return j}});var s=t(5444),n=t(9300),a=t(2348),i=t(6629),c=t(1084),l=t(9827),d=t(1335),o=t(2690),u=t(2154);let f=(0,u.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),x=(0,u.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),m=(0,u.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var g=t(179);function h({title:e,pipelineId:r,status:t="unknown",lastExecution:n,totalExecutions:a=0,successRate:i=0,icon:c}){return(0,s.jsxs)(l.Zb,{className:"hover:shadow-lg transition-shadow",children:[(0,s.jsx)(l.Ol,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[c&&(0,s.jsx)("div",{className:"text-primary",children:c}),(0,s.jsxs)("div",{children:[(0,s.jsx)(l.ll,{className:"text-xl",children:e}),(0,s.jsxs)(l.SZ,{className:"mt-1 font-mono text-xs",children:["ID: ",r]})]})]}),(()=>{switch(t?.toLowerCase()){case"complete":case"success":return(0,s.jsx)(d.C,{variant:"default",className:"bg-green-500",children:"Active"});case"failed":case"error":return(0,s.jsx)(d.C,{variant:"destructive",children:"Error"});case"running":case"pending":return(0,s.jsx)(d.C,{variant:"secondary",children:"Running"});default:return(0,s.jsx)(d.C,{variant:"outline",children:"Unknown"})}})()]})}),(0,s.jsx)(l.aY,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(t?.toLowerCase()){case"complete":case"success":return(0,s.jsx)(o.Z,{className:"h-5 w-5 text-green-500"});case"failed":case"error":return(0,s.jsx)(f,{className:"h-5 w-5 text-red-500"});case"running":case"pending":return(0,s.jsx)(x,{className:"h-5 w-5 text-yellow-500"});default:return(0,s.jsx)(x,{className:"h-5 w-5 text-muted-foreground"})}})(),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:t||"No recent executions"})]}),n&&(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Last execution: "}),(0,s.jsx)("span",{className:"font-medium",children:(0,g.WU)(new Date(n),"MMM d, yyyy HH:mm")})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:a}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Total Executions"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[i,"%"]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Success Rate"})]}),(0,s.jsx)(m,{className:"h-4 w-4 text-green-500"})]})]})]})})]})}var p=t(9221),v=t(6964),y=t(2422);function j(){let[e,r]=(0,n.useState)(null),[t,l]=(0,n.useState)(!0),[d,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{u()},[]);let u=async()=>{try{l(!0),o(null);let e=await fetch("/api/pipelines"),t=await e?.json();if(!t?.success)throw Error(t?.error||"Failed to fetch pipeline data");r(t?.data)}catch(e){o(e instanceof Error?e?.message:"An error occurred")}finally{l(!1)}};if(t)return(0,s.jsx)(p.G,{message:"Loading pipeline data..."});if(d)return(0,s.jsx)(v.B,{title:"Failed to Load Dashboard",message:d});e?.manufacturer?.pipeline;let f=e?.manufacturer?.executions,x=Array.isArray(f)?f:[];e?.product?.pipeline;let m=e?.product?.executions,g=Array.isArray(m)?m:[],j=e=>Array.isArray(e)&&e?.length!==0&&e?.[0]?.startedAt||null,N=e=>Array.isArray(e)&&e?.length!==0?Math.round((e?.filter(e=>e?.status?.toLowerCase()==="complete"||e?.status?.toLowerCase()==="success")?.length??0)/e?.length*100):0;return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,s.jsx)(c.default,{href:"/manufacturers",children:(0,s.jsx)(h,{title:"Manufacturer Discovery Pipeline V2",pipelineId:"fd507c760",status:x?.[0]?.status||"unknown",lastExecution:j(x)||void 0,totalExecutions:x?.length||0,successRate:N(x),icon:(0,s.jsx)(a.Z,{className:"h-6 w-6"})})}),(0,s.jsx)(c.default,{href:"/products",children:(0,s.jsx)(h,{title:"Universal Product Intelligence Pipeline",pipelineId:"1398624bb0",status:g?.[0]?.status||"unknown",lastExecution:j(g)||void 0,totalExecutions:g?.length||0,successRate:N(g),icon:(0,s.jsx)(i.Z,{className:"h-6 w-6"})})})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(c.default,{href:"/manufacturers",className:"flex-1",children:(0,s.jsxs)(y.z,{className:"w-full",size:"lg",children:[(0,s.jsx)(a.Z,{className:"mr-2 h-5 w-5"}),"View Manufacturers"]})}),(0,s.jsx)(c.default,{href:"/products",className:"flex-1",children:(0,s.jsxs)(y.z,{className:"w-full",size:"lg",variant:"secondary",children:[(0,s.jsx)(i.Z,{className:"mr-2 h-5 w-5"}),"View Products"]})})]})]})}},6964:function(e,r,t){"use strict";t.d(r,{B:function(){return f}});var s=t(5444),n=t(6772),a=t(9300),i=t(2371),c=t(5522);let l=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=a.forwardRef(({className:e,variant:r,...t},n)=>(0,s.jsx)("div",{ref:n,role:"alert",className:(0,c.cn)(l({variant:r}),e),...t}));d.displayName="Alert";let o=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("h5",{ref:t,className:(0,c.cn)("mb-1 font-medium leading-none tracking-tight",e),...r}));o.displayName="AlertTitle";let u=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,c.cn)("text-sm [&_p]:leading-relaxed",e),...r}));function f({title:e="Error",message:r,className:t=""}){return(0,s.jsxs)(d,{variant:"destructive",className:t,children:[(0,s.jsx)(n.Z,{className:"h-4 w-4"}),(0,s.jsx)(o,{children:e}),(0,s.jsx)(u,{children:r})]})}u.displayName="AlertDescription"},9221:function(e,r,t){"use strict";t.d(r,{G:function(){return a}});var s=t(5444),n=t(1946);function a({message:e="Loading...",className:r=""}){return(0,s.jsxs)("div",{className:`flex flex-col items-center justify-center py-12 ${r}`,children:[(0,s.jsx)(n.Z,{className:"h-8 w-8 animate-spin text-primary mb-4"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e})]})}},1335:function(e,r,t){"use strict";t.d(r,{C:function(){return c}});var s=t(5444);t(9300);var n=t(2371),a=t(5522);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c({className:e,variant:r,...t}){return(0,s.jsx)("div",{className:(0,a.cn)(i({variant:r}),e),...t})}},2422:function(e,r,t){"use strict";t.d(r,{z:function(){return d}});var s=t(5444),n=t(9300),a=t(223),i=t(2371),c=t(5522);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef(({className:e,variant:r,size:t,asChild:n=!1,...i},d)=>{let o=n?a.g7:"button";return(0,s.jsx)(o,{className:(0,c.cn)(l({variant:r,size:t,className:e})),ref:d,...i})});d.displayName="Button"},9827:function(e,r,t){"use strict";t.d(r,{Ol:function(){return c},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},ll:function(){return l}});var s=t(5444),n=t(9300),a=t(5522);let i=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let c=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));c.displayName="CardHeader";let l=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let d=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let o=n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent",n.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},5522:function(e,r,t){"use strict";t.d(r,{cn:function(){return a}});var s=t(2191),n=t(3607);function a(...e){return(0,n.m6)((0,s.W)(e))}},2690:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(2154).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])}},function(e){e.O(0,[770,364,247,386,156,744],function(){return e(e.s=4920)}),_N_E=e.O()}]);